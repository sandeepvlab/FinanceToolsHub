<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üè† Mortgage Calculator</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <div class="container">
    <h1>üè† Mortgage Calculator</h1>

    <form id="mortgageForm">
      <div class="form-group">
        <label for="zipcode">ZIP Code:</label>
        <div class="input-with-symbol">
          <input type="text" id="zipcode" name="zipcode" placeholder="Enter ZIP">
        </div>
      </div>

      <div class="form-group">
        <label for="home_value">Home Value:</label>
        <div class="input-with-symbol">
          <span>$</span>
          <input type="number" id="home_value" name="home_value" placeholder="e.g. 500000">
        </div>
      </div>

      <div class="form-group">
        <label for="down_payment">Down Payment:</label>
        <div class="input-with-symbol">
          <input type="number" id="down_payment" name="down_payment" placeholder="e.g. 20">
          <div class="radio-group">
            <label><input type="radio" name="dp_type" value="%" checked> %</label>
            <label><input type="radio" name="dp_type" value="$"> $</label>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="loan_amount">Loan Amount:</label>
        <div class="input-with-symbol">
          <span>$</span>
          <input type="text" id="loan_amount" readonly placeholder="Auto-calculated">
        </div>
      </div>

      <div class="form-group">
        <label for="interest_rate">Interest Rate:</label>
        <div class="input-with-symbol">
          <span>%</span>
          <input type="text" id="interest_rate" readonly placeholder="Auto-fetched">
        </div>
      </div>

      <div class="form-group">
        <label for="property_tax">Property Tax:</label>
        <div class="input-with-symbol">
          <span>$ /yr</span>
          <input type="number" id="property_tax" name="property_tax" placeholder="e.g. 3500">
        </div>
      </div>

      <div class="form-group">
        <label for="pmi">PMI:</label>
        <div class="input-with-symbol">
          <span>%</span>
          <input type="text" id="pmi" name="pmi" readonly placeholder="Auto-adjusted">
        </div>
      </div>

      <div class="form-group">
        <label for="home_ins">Home Insurance:</label>
        <div class="input-with-symbol">
          <span>$ /yr</span>
          <input type="number" id="home_ins" name="home_ins" placeholder="e.g. 1200">
        </div>
      </div>

      <div class="form-group">
        <label for="hoa">Monthly HOA:</label>
        <div class="input-with-symbol">
          <span>$</span>
          <input type="number" id="hoa" name="hoa" placeholder="e.g. 200">
        </div>
      </div>

      <div class="form-group">
        <label for="loan_type">Loan Type:</label>
        <select id="loan_type" name="loan_type">
          <option value="Conventional">Conventional</option>
          <option value="ARM">ARM</option>
        </select>
      </div>

      <div class="form-group">
        <label for="loan_term">Loan Term (Years):</label>
        <select id="loan_term" name="loan_term">
          <option value="30">30</option>
          <option value="20">20</option>
          <option value="15">15</option>
          <option value="10">10</option>
        </select>
      </div>

      <button type="submit">Calculate</button>
    </form>

    <!-- ===== Result Section (New Layout) ===== -->
    <div id="results" class="result-section" style="display:none;">
      <h3>üí∞ Mortgage Summary</h3>
      <div class="result-grid">
        <div class="chart-container">
          <canvas id="resultChart"></canvas>
        </div>

        <div class="summary-box">
          <p><strong>ZIP Code:</strong> <span id="r_zipcode"></span></p>
          <p><strong>Home Value:</strong> $<span id="r_home_value"></span></p>
          <p><strong>Down Payment:</strong> $<span id="r_down_payment"></span> (<span id="r_down_percent"></span>%)</p>
          <p><strong>Loan Amount:</strong> $<span id="r_loan_amount"></span></p>
          <p><strong>Interest Rate:</strong> <span id="r_interest_rate"></span>%</p>
          <p><strong>PMI:</strong> <span id="r_pmi"></span>%</p>
          <p><strong>Monthly Payment:</strong> <strong style="color:#2b4c7e;">$<span id="r_monthly_payment"></span></strong></p>
        </div>
      </div>
    </div>
  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
